<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Bracket Vertical - Liga LEGENDS</title>
<style>
  body{margin:0;font-family:Arial,Helvetica,sans-serif;background:#002D72;color:#fff;}
  h1{text-align:center;padding:14px;color:#D50032;font-size:1.3rem;text-transform:uppercase;}
  .bracket{display:flex;flex-direction:column;gap:22px;padding:12px;max-width:460px;margin:auto;}
  .round-separator{margin:12px 0;text-align:center;font-size:1rem;font-weight:bold;color:#FFD700;}
  .match{border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,0.4);padding:10px;}
  .header{font-weight:bold;font-size:.9rem;margin-bottom:6px;text-align:center;color:#fff;}
  .team{padding:6px;margin:4px 0;background:#001a40;border:1px solid #ccc;border-radius:8px;}
  .team.win{background:#14532d;color:#aef2da;border-color:#27e1a0;}
  .team.lose{background:#432121;color:#f5a9a9;border-color:#ff6b6b;}
  .games{margin-top:6px;}
  .game-row{margin:3px 0;font-size:.85rem;}
  .note{color:#27e1a0;font-weight:bold;font-size:.8rem;margin-left:6px;}
  .winner-label{margin-top:6px;text-align:center;font-size:.85rem;font-weight:bold;}
  /* Colores bordes */
  .cuartos{background:#0a163f;border:2px solid #1E90FF;}
  .semifinal{background:#1a0f2f;border:2px solid #D50032;}
  .final{background:#332107;border:2px solid #FFD700;}
  .campeon{border:2px solid #FFD700 !important;background:#FFD700 !important;color:#002D72 !important;font-weight:bold;}
</style>
</head>
<body>
<h1>Postemporada Liga LEGENDS</h1>

<div class="bracket" id="bracket"></div>

<script src="resultados.js"></script>
<script>
function renderMatch(titulo,data){
  let wins=[0,0], rows="";
  data.juegos.forEach((score,i)=>{
    if(!score) return rows+=`<div class="game-row">Juego ${i+1}: -</div>`;
    const [a,b]=score.split("-").map(x=>parseInt(x,10));
    let note="";
    if(!isNaN(a)&&!isNaN(b)){
      if(a>b){wins[0]++; note=`<span class="note">Gana ${data.equipos[0]}</span>`;}
      else if(b>a){wins[1]++; note=`<span class="note">Gana ${data.equipos[1]}</span>`;}
    }
    rows+=`<div class="game-row">Juego ${i+1}: ${score} ${note}</div>`;
  });
  let winner="";
  if(wins[0]>=2) winner=data.equipos[0];
  else if(wins[1]>=2) winner=data.equipos[1];
  const winnerClass=(data.ronda==="final"&&winner)?"campeon":"";
  return `
    <div class="match ${data.ronda}">
      <div class="header">${titulo}</div>
      <div class="team ${winner===data.equipos[0]?"win":(winner?"lose":"")} ${winner===data.equipos[0]&&winnerClass}">${data.equipos[0]}</div>
      <div class="team ${winner===data.equipos[1]?"win":(winner?"lose":"")} ${winner===data.equipos[1]&&winnerClass}">${data.equipos[1]}</div>
      <div class="games">${rows}</div>
      <div class="winner-label" style="color:${data.ronda==="final"?"#FFD700":"#D50032"}">
        ${winner? (data.ronda==="final"?"üèÜ Campe√≥n: "+winner:"Ganador: "+winner):""}
      </div>
    </div>
  `;
}

function render(){
  const bracket=document.getElementById("bracket");
  bracket.innerHTML="";
  let lastRonda="";
  Object.keys(resultados).forEach(titulo=>{
    const data=resultados[titulo];
    if(data.ronda!==lastRonda){
      bracket.innerHTML+=`<div class="round-separator">${data.ronda.toUpperCase()}</div>`;
      lastRonda=data.ronda;
    }
    bracket.innerHTML+=renderMatch(titulo,data);
  });
}
render();
</script>
</body>
</html>
